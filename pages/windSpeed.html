<!doctype HTML>

<style type="text/css">
	
	#windSpeed {
		width: 75%;
		display: block;
		margin: auto;
		padding-top: 20px;
	}

</style>

<html>

	<head>	
		<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
		<link rel="stylesheet" type="text/css" href="css/style.css">

		<div id="titles">
		<div id="title"><a href="http://davidstelfox.github.io">play portfolio</a></div>
		<div id="blog"><a href="http://davidstelfox.github.io/blog">process blog</a></div>	
		</div>
	</head>
	
	<body>

	<p>Playing around with animations of windspeeds </p>

	<p id="windSpeed"></p>

	<p>Data Source: Wunderground.com</p>

		<script type="text/javascript">

			var w = 930,
			h = 600

			var svg = d3.select("#windSpeed")
						.append("svg")
						.attr("width", w)
						.attr("height", h)

			var dayScale = d3.scale.linear()
								.domain([1,3652])
								.range([0, h-20])

			var speedScale = d3.scale.linear()
								.domain([0,60])
								.range([60,0])


			d3.csv("data/wind.csv", function(d) {

			var wind = svg.selectAll("rect")
						.data(d)
						.enter()
						.append("rect")
						.attr("x", -200)
						.attr("y", function(d) {return dayScale(d.Series)})
						.attr("width", function(d) {return d.london_temp * 4} )
						.attr("height", 5)
						.style("fill", "#d2d2d2")
						.style("fill-opacity", 0.4)


				wind.transition()
					.attr("x", 1200)
					.duration(function(d) {return speedScale(d.london_speed) * 1000})

			})
		


		</script>

	
	
	</body>
</html>
