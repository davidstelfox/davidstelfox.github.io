 <!doctype html>

<style type="text/css">

	#books{
		padding-top: 10px;
		width: 80%;
		display: block;
		margin: auto;
		font-family: sans-serif;
	    font-size: 11px;
	}

	.axis path,
	.axis line {
	    fill: none;
	    stroke: black;
	    shape-rendering: crispEdges;
	}

	.axis text {
	    font-family: sans-serif;
	    font-size: 11px;
	}

	
</style>

<head>	
		<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
		<link rel="stylesheet" type="text/css" href="css/style.css">	

		<div id="titles">
		<div id="title"><a href="http://davidstelfox.github.io">play portfolio</a></div>
		<div id="blog"><a href="http://davidstelfox.github.io/blog">process blog</a></div>	
		</div>
	</head>

	<p>The books I read in 2015. Hover over a circle for more information on the book.</p>

<body>

	<div id="books"></div>

	<script type="text/javascript">

	var width = 1000,
			height = 500

	var yearScale = d3.scale.linear()
							.domain([1900, 2015])
							.range([height-100, 100])

	var dateScale = d3.scale.linear()
						.domain([1,13])
						.range([100, width-150])

	var svg = d3.select("#books")
				.append("svg")
				.attr("width", width)
				.attr("height", height)

	var colors = d3.scale.ordinal()
						.domain(["Fiction", "Learning"])
						.range(["#85FFC7", "#FF8552"])

	var xAxis = d3.svg.axis()
					.scale(dateScale)
					.orient("bottom")

	var yAxis = d3.svg.axis()
					.scale(yearScale)
					.orient("left")
					.ticks(5)

	var yLineData = [{"x": 50, "y": 20}, {"x": 50, "y": 100}];
	var xLineData = [{"x": 50, "y": 20}, {"x": 150, "y": 20}];

	var yLine = d3.svg.line()
					.x(function(d) {return d.x})
					.y(function(d) {return d.y})
					.interpolate("linear")



	d3.json("data/books.json", function(data){

		svg.selectAll("circle")
			.data(data)
			.enter()
			.append("circle")
			.attr("cy", function(d) {return yearScale(d.yearPublished)})
			.attr("cx", function(d) {return dateScale(d.dateStarted)})
			.attr("r", function(d) {return d.length/20})
			.attr("fill-opacity", 0.55)
			.attr("fill", function(d) {return colors(d.genre)})
			.append("svg:title")
			.text(function(d) {return d.author + ", " + d.title + ", " + d.yearPublished})

		// svg.append("g")
		// 	.attr("class", "axis")
		// 	.call(xAxis)

		svg.append("path")
			.attr("d", yLine(yLineData))
			.attr("stroke", "#949494")
			.attr("stroke-width", 1.5)

		svg.append("path")
			.attr("d", yLine(xLineData))
			.attr("stroke", "#949494")
			.attr("stroke-width", 1.5)

		svg.append("text")
			.style("fill", "#949494")
			.style("font-family", "sans-serif")
			.style("writing-mode", "tb")
			.attr("x", 36)
			.attr("y", 20)
			.text("Published")

		svg.append("text")
			.style("fill", "#949494")
			.style("font-family", "sans-serif")
			.attr("x", 50)
			.attr("y", 13)
			.text("Read")



	})

	</script>
</body>
<p id="footer">
		&copy; 2015<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, David Stelfox
		</p>