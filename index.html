<!doctype HTML>

<style type="text/css">
	
	body{
		font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;
		font-size: 24pt;
		color: #333;
	}


	#titles{
		width: 80%;
		display: block;
		margin: auto;
		color: #333;
	}

	#title{
		float: left;
	}

	#blog{
		float: right;
	}

	#linesandlinesandlines{
		width: 80%;
		display: block;
		margin: auto;
	}


	a{
		color:black;
		text-decoration: none;
		padding-left: 10px;
	}

	p{
		padding-top: 40pt;
		padding-left: 15pt;
		font-size: 12pt;
		width: 80%;
		display: block;
		margin: auto;
	}

	#link{
		padding-left: 0pt;
		color: blue;
	}

	#second{
		padding-top: 10pt;
		padding-bottom: 10pt;
	}

	#blurb{
		padding-top: 65px;
	}

	#footer{
		font-size: 10pt;
		padding-top: 10pt;
	}


</style>

<html>
	
	<head>	
		<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js" charset="utf-8"></script>
	

		<div id="titles">
		<div id="title"><a href="http://davidstelfox.github.io">play portfolio</a></div>
		<div id="blog"><a href="http://davidstelfox.github.io/blog">process blog</a></div>	
		</div>
	</head>


	<body>

	<p id="blurb">This is an ongoing showcase of my data visualisation and coding learning process. It might make more sense if you read<a id="link" href="http://davidstelfox.github.io/blog/2015/11/20/Journey-Begins.html"> this blog post</a>.</p>

	<p id="second"> Click a circle below to see the visualisation, the colour represents the language or process and the size represents the number of lines of code. If you have any feedback you can email me at stelfoxd (at) gmail.com or find me on <a id="link" href="http://www.twitter.com/stelfad"> Twitter</a>.</p>


		<div id="linesandlinesandlines"></div>
		<div id="legend"></div>

		<script type="text/javascript">

		var svg = d3.select("#legend")
					.append("svg")
					.attr("width", 1000)
					.attr("height", 60)


		var languageData = [ {"language":"D3", "color":"#FCCC2E"}, {"language":"Map", "color":"#48A9A6"}, {"language":"Imposter Syndrome Strikes!", "color":"#EB5D5C"} ];

			var legend = svg.append("g")
							.attr("class", "legend")
							.attr("x", 10)
							.attr("y", 20)
							.attr("width", 10)
							.attr("heigt", 20)

				legend.selectAll("g")
						.data(languageData)
						.enter()
						.append("g")
						.each(function(d,i) {
							var g = d3.select(this);
									g.append("circle")
										.attr("cx", 140)
										.attr("cy", i* 15 + 20)
										.attr("r", 5)
										.attr("width", 10)
										.attr("height", 10)
										.style("fill", d.color)

									g.append("text")
										.attr("x", 150)
										.attr("y", i* 15 + 25)
										.attr("width", 10)
										.attr("height", 20)
										.text(d.language)
										.style("font-size", "10pt")


						})
		</script>


		<script type="text/javascript">
		var w = 1000, h = 550

		var svg = d3.select("#linesandlinesandlines")
					.append("svg")
					.attr("width", w)
					.attr("height", h)

		var lineScale = d3.scale.linear()
								.domain([25,250])
								.range([10,50])


		var lineData = [ { "x": 20,   "y": 80},  { "x": 880,  "y": 80}, { "x": 880,  "y": 230},
							{ "x": 120,  "y": 230}, { "x": 120,  "y": 380}, { "x": 880,  "y": 380}, 
							{ "x": 880,  "y": 530}, { "x": 20,  "y": 530}]
  	               

		var line = d3.svg.line()
					.x(function(d){return d.x; })
					.y(function(d){return d.y; })
					.interpolate("monotone");

		var lineGraph = svg.append("path")
							.attr("d", line(lineData))
							.attr("stroke", "#d2d2d2")
							.attr("stroke-width", 8)
							.attr("fill", "none")

		var colors = d3.scale.ordinal()
							.domain(["D3", "Imposter", "Map"])
							.range(["#FCCC2E", "#EB5D5C", "#48A9A6"])


		d3.json("pages/data/project.json", function(d) {

			svg.selectAll("circle")
				.data(d)
				.enter()
				.append("a")
				.attr("xlink:href", function(d){return d.URL;})
				.append("circle")
				.attr("cx", function(d) {return d.xposition; })
				.attr("cy", function(d) {return d.yposition; })
				.attr("r", function(d) {return lineScale(d.lines); })
				.attr("fill", function(d) {return colors(d.language); })
				.on('mouseover', function(d) {
					var nodeSelection = d3.select(this).style({fill: '#FF0099'});
				})
				.on('mouseout', function(d) {
					var nodeDeselection = d3.select(this).style("fill", function(d) {return colors(d.language); })
				})

			svg.append("text")
				.attr("y", 115)
				.attr("x", 10)
				.attr("font-size", "10pt")
				.text("November 2015")

			svg.append("text")
				.attr("y", 500)
				.attr("x", 10)
				.attr("font-size", "10pt")
				.text("December 2016")	


		})


		</script>

		<p id="footer">
		&copy; 2015<script>new Date().getFullYear()>2010&&document.write("-"+new Date().getFullYear());</script>, David Stelfox
		</p>
	

		
	
	</body>
</html>
